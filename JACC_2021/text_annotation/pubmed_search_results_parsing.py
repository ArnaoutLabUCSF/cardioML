"""

To run:

python3 pubmed_search_results_parsing.py pubmed_results.csv

where "pubmed_results.csv" is the result of the bibliometric search

NOTE: some columns in the resulting outfile were manually reviewed and/or annotated as described below.



"""

import pandas as pd
import sys
import re



ml_problem_dict = {
	"based markers": "biomarkers",
	"biochemical markers": "biomarkers",
	"biological insight": "biomarkers",
	"biomarker": "biomarkers",
	"biosignatures": "biomarkers",
	"functional annotation": "biomarkers",
	"gene annotation": "biomarkers",
	"gene arrays": "biomarkers",
	"imaging biomarker": "biomarkers",
	"molecular signature": "biomarkers",
	"phenomapping": "biomarkers",
	"physiomarkers": "biomarkers",

	"classification": "classification",
	"classified": "classification",
	"classifier": "classification",
	"classifies": "classification",
	"classify": "classification",
	"discriminant": "classification",
	"discrimination threshold": "classification",
	"discriminator": "classification",
	"stratification": "classification",

	"cross modal": "crossmodal",
	"crossmodal": "crossmodal",
	"hybrid imaging": "crossmodal",
	"hybrid network": "crossmodal",
	"multi modal": "crossmodal",
	"multimodal": "crossmodal",

	"etiolog": "diagnosis",
	"decision making": "diagnosis",
	"clinical decision support": "diagnosis",
	"clinical support system": "diagnosis",
	"decisionmaking": "diagnosis",
	"detect": "diagnosis",
	"diagnos": "diagnosis",
	"distinguish among": "diagnosis",
	"distinguish between": "diagnosis",
	"identifi": "diagnosis",	
	"interpretation": "diagnosis",
	"screening": "diagnosis",

	"automated tracking": "objecttracking",
	"image feature": "objecttracking",
	"image similarity": "objecttracking",
	"imaging features": "objecttracking",
	"manual tracking": "objecttracking",
	"motion feature": "objecttracking",
	"motion pattern": "objecttracking",
	"motion recognition": "objecttracking",
	"motion sensor": "objecttracking",
	"motion tracking": "objecttracking",
	"motion trajectory": "objecttracking",
	"object detect": "objecttracking",
	"object recognition": "objecttracking",
	"object tracking": "objecttracking",
	"speckle tracking": "objecttracking",
	"tool tracking": "objecttracking",
	"visual tracking": "objecttracking",

	"forecast": "prediction",
	"predict": "prediction",
	"prognosis": "prediction",
	"prognostic": "prediction",
	"outcome predict": "prediction",

	"artifact correction": "quality",
	"artifact free": "quality",
	"artifact reduction": "quality",
	"artifact removal": "quality",
	"artifact suppression": "quality",
	"background noise": "quality",
	"bad quality": "quality",
	"bssfp": "quality",
	"contour alignment": "quality",
	"contour analysis": "quality",
	"contour extraction": "quality",
	"contrast enhanced imaging": "quality",
	"contrast imaging": "quality",
	"contrast variation": "quality",
	"de nois": "quality",
	"de noising": "quality",
	"de noiz": "quality",
	"deblur": "quality",
	"denois": "quality",
	"denoiz": "quality",
	"dynamic motion": "quality",
	"enhanced image": "quality",
	"etiolog": "quality",
	"excess noise": "quality",
	"image distortion": "quality",
	"image motion": "quality",
	"image noise": "quality",
	"image post processing": "quality",
	"image reconstruction": "quality",
	"image registration": "quality",
	"imagequality": "quality",
	"image quality": "quality",
	"imaging artifact": "quality",
	"imaging quality": "quality",
	"intensity contrast": "quality",
	"low resolution": "quality",
	"motion artefact": "quality",
	"motion artifact": "quality",
	"motion blur": "quality",
	"motion correction": "quality",
	"motion corrupted": "quality",
	"noise added": "quality",
	"noise artifact": "quality",
	"noise artefact": "quality",
	"noise contamination": "quality",
	"noise detection": "quality",
	"noise reduction": "quality",
	"noise removal": "quality",
	"quality imaging": "quality",
	"reduce noise": "quality",
	"resolution enhancement": "quality",

	"edge based": "segmentation",
	"edge-based": "segmentation",
	"edge detection": "segmentation",
	"edge-detection": "segmentation",
	"manual tracing": "segmentation",
	"manually annotated": "segmentation",
	"manually traced": "segmentation",
	"segment": "segmentation",
	"signal extraction": "segmentation",

	"long short term": "sequenceanalysis",
	"lstm": "sequenceanalysis",
	"recurrent neural network": "sequenceanalysis",
	"rnn": "sequenceanalysis",

	"synthetic": "syntheticdata",
}



ml_method_dict = {
	" dbscan ": "clustering",
	"(dbscan)": "clustering",
	"affinity propagation": "clustering",
	"birch": "clustering",
	"cluster": "clustering",
	"k means": "clustering",
	"k medians": "clustering",
	"k-means": "clustering",
	"k-medians": "clustering",
	"kmeans": "clustering",
	"kmedians": "clustering",
	"mean shift": "clustering",

	" c4.5 ": "decisiontrees",
	" cart ": "decisiontrees",
 	" chaid ": "decisiontrees",
	" id3 ": "decisiontrees",
	" mars ": "decisiontrees",
	"(c4.5)": "decisiontrees",
	"(cart)": "decisiontrees",
 	"(chaid)": "decisiontrees",
	"(id3)": "decisiontrees",
	"(mars)": "decisiontrees",
	"chi squared automatic interaction detector": "decisiontrees",
	"classification and regression tree": "decisiontrees",
	"conditional inference trees": "decisiontrees",
	"decision stump": "decisiontrees",
	"decision tree": "decisiontrees",
	"iterative dichotomiser 3": "decisiontrees",
	"iterative dichotomiser-3": "decisiontrees",
	"random forest": "decisiontrees",
	"regression tree": "decisiontrees",
	"tree based": "decisiontrees",
	"tree-based": "decisiontrees",

 	"discriminant analysis": "discriminantanalysis",
 	" lda ": "discriminantanalysis",
	" qda ": "discriminantanalysis",
 	"(lda)": "discriminantanalysis",
	"(qda)": "discriminantanalysis",
	"least angle regression": "discriminantanalysis",
	"linear discriminant": "discriminantanalysis",
	"quadratic discrimination": "discriminantanalysis",

	"adaboost": "ensemble",
	"bagging": "ensemble",
	"boost": "ensemble",
	"bootstrap": "ensemble",
	"cascade of classifiers": "ensemble",
	"ensemble": "ensemble",
	"gradient tree boosting": "ensemble",
	"random forest": "ensemble",
	"stacked generalization": "ensemble",

	" gmm ": "gaussian", 
 	" gpr ": "gaussian", 
	"(gmm)": "gaussian", 
 	"(gpr)": "gaussian",
	"gaussian": "gaussian", 

	" mslr ": "linearmodels",
	" olsr ": "linearmodels",
	" omp ": "linearmodels",
	"(mslr)": "linearmodels",
	"(olsr)": "linearmodels",
	"(omp)": "linearmodels",
	"bayesian regression": "linearmodels",
	"cox regression": "linearmodels",
	"elastic net": "linearmodels",
	"lasso": "linearmodels",
	"least squares": "linearmodels",
	"linear model": "linearmodels",
	"linear regression": "linearmodels",
	"logistic model": "linearmodels",
	"logistic regression": "linearmodels",
	"multi task elastic net": "linearmodels",
	"multioutput sparse latent regression": "linearmodels",
	"multivariable logistic": "linearmodels",
	"multivariate logistic": "linearmodels",
	"ordinary least squares": "linearmodels",
	"orthogonal matching pursuit": "linearmodels",
	"passive aggressive algorithms": "linearmodels",
	"polynomial regression": "linearmodels",
	"regression analyses": "linearmodels",
	"regression analysis": "linearmodels",
	"regression model": "linearmodels",
	"ridge classification": "linearmodels",
	"ridge regression": "linearmodels",
	"robustness regression": "linearmodels",
	"squares regression": "linearmodels",
	"stochastic gradient descent": "linearmodels",

	"bayes": "bayesian",

	" nns ": "nearestneighbor",
	"(nns)": "nearestneighbor",
	"k nearest": "nearestneighbor",
	"k-nearest": "nearestneighbor",
	"nearest neighbor": "nearestneighbor",

	" ann ": "neuralnetworks",
	" cnn ": "neuralnetworks",
	" dae ": "neuralnetworks",
	" dbn ": "neuralnetworks",
	" dcn ": "neuralnetworks",
	" dcnn ": "neuralnetworks",
	" dff ": "neuralnetworks",
	" dnn ": "neuralnetworks",
	" drn ": "neuralnetworks",
	" gan ": "neuralnetworks",
	" gru ": "neuralnetworks",
	" lstm ": "neuralnetworks",
	" lvq ": "neuralnetworks",
	" rbf ": "neuralnetworks",
	" rnn ": "neuralnetworks",
	" sae ": "neuralnetworks",
	" vae ": "neuralnetworks",
	"(ann)": "neuralnetworks",
	"(cnn)": "neuralnetworks",
	"(dae)": "neuralnetworks",
	"(dbn)": "neuralnetworks",
	"(dcn)": "neuralnetworks",
	"(dcnn)": "neuralnetworks",
	"(deep) learning": 'neuralnetworks',
	"(dff)": "neuralnetworks",
	"(dnn)": "neuralnetworks",
	"(drn)": "neuralnetworks",
	"(gan)": "neuralnetworks",
	"(gru)": "neuralnetworks",
	"(lstm)": "neuralnetworks",
	"(lvq)": "neuralnetworks",
	"(rbf)": "neuralnetworks",
	"(rnn)": "neuralnetworks",
	"(sae)": "neuralnetworks",
	"(vae)": "neuralnetworks",
	"artificial neural": "neuralnetworks",
	"auto encoder": "neuralnetworks",
	"autoencoder": "neuralnetworks",
	"back propagation": "neuralnetworks",
	"backpropagation": "neuralnetworks",
	"boltzmann machine": "neuralnetworks",
	"convolution": "neuralnetworks",
	"deep belief network": "neuralnetworks",
	"deep convolutional network": "neuralnetworks",
	"classification network": "neuralnetworks",
	"deep feed forward": "neuralnetworks",
	"deep network": "neuralnetworks",
	"deep neural": "neuralnetworks",
	"deep learning": "neuralnetworks",
	"deep residual network": "neuralnetworks",
	"denoising ae": "neuralnetworks",
	"encoder": "neuralnetworks",
	"feature extraction": "neuralnetworks",
	"feature hierarchy": "neuralnetworks",
	"features extraction": "neuralnetworks",
	"feed forward": "neuralnetworks",
	"feed-forward": "neuralnetworks",
	"gated recurrent unit": "neuralnetworks",
	"generative adversarial network": "neuralnetworks",
	"hopfield network": "neuralnetworks",
	"learning vector quantization": "neuralnetworks",
	"long short term memory": "neuralnetworks",
	"markov": "neuralnetworks",
	"multi layer perception": "neuralnetworks",
	"neural network": "neuralnetworks",
	"radial basis network": "neuralnetworks",
	"recurrent neural-network": "neuralnetworks",
	"residual densenets": "neuralnetworks",
	"sparse ae": "neuralnetworks",
	"variational ae": "neuralnetworks",
	"u net": 'neuralnetworks',
	" unet": 'neuralnetworks',

	" ai ": "other",
 	" aode ": "other",
	" nlp ": "other",
	"(ai)": "other",
 	"(aode)": "other",
	"(nlp)": "other",
	"artificial intelligence": "other",
	"averaged one dependence estimator": "other",
	"bigram": "other",
	# "deep learning": "other",
	"language processing": "other",
	"machine intelligence": "other",
	"machine learn": "other",
	"natural language": "other",
	"reinforcement learning": "other",
	"semi supervised": "other",
	"semisupervised": "other",
	"supervised": "other",
	"unsupervised approach": "other",
	"unsupervised": "other",

	" svm ": "svm",
	"(svm)": "svm",
	"support vector": "svm",
	"vector machine": "svm",
}


disease_dict = {
	" af ": "arrhythmia", 
	" afib ": "arrhythmia", 
	" fib ": "arrhythmia",
	" lqt ": "arrhythmia",
	" pvc ": "arrhythmia",
	" tachy": "arrhythmia",
	"(af)": "arrhythmia", 
	"(afib)": "arrhythmia",  
	"(fib)": "arrhythmia",
	"(lqt)": "arrhythmia",
	"(pvc)": "arrhythmia",
	"arrhythm": "arrhythmia",
	"atrial flutter": "arrhythmia",
	"atrial tachycardia": "arrhythmia",
	"av block": "arrhythmia",
	"av delay": "arrhythmia",
	"bigeminy": "arrhythmia",
	"brady": "arrhythmia", 
	"bundle branch block": "arrhythmia",
	"cardiac arrhythmia": "arrhythmia",
	"cardiac death": "arrhythmia",
	"cardiac rhythm": "arrhythmia", 
	"chronotropic": "arrhythmia",
	"fibrillation": "arrhythmia",
	"flutter": "arrhythmia",
	"irregular heartbeat": "arrhythmia",
	"murmur": "arrhythmia",
	"pacemaker": "arrhythmia",
	"palpitations": "arrhythmia",
	"premature ventricular beat": "arrhythmia",
	"premature ventricular contraction": "arrhythmia",
	"qt syndrome": "arrhythmia",
	"sinoatrial": "arrhythmia",
	"sinus arrest": "arrhythmia",
	"sinus rhythm": "arrhythmia",
	"tachyarrhythmia": "arrhythmia",
	"tachycardia": "arrhythmia",
	"tachypacing": "arrhythmia",
	"pulmonary vein ablation": "arrhythmia",
	"pulmonary vein isolation": "arrhythmia",
	" afw ": "arrhythmia",
	"electrophysiolog": "arrhythmia",
	"ep catheters": "arrhythmia",
	"epicardial mapping": "arrhythmia",
	"ablation of the pulmonary veins": "arrhythmia",
	"t wave alternans": "arrhythmia",
	
	"cardiomyocyte": "basicscience",

	" acs ": "atherosclerosis",
	" ascvd ": "atherosclerosis",
	" cabg ": "atherosclerosis",
	" cac ": "atherosclerosis",
	" cad ": "atherosclerosis",
	" cimt ": "atherosclerosis",
	" hdl ": "atherosclerosis",
	" imt ": "atherosclerosis",
	" ischaemi": "atherosclerosis",
	" ischemi": "atherosclerosis",
	" ldl ": "atherosclerosis",
	" mi ": "atherosclerosis",
	" nstemi ": "atherosclerosis",
	" pci ": "atherosclerosis",
	" vldl ": "atherosclerosis",
	"(acs)": "atherosclerosis",
	"(ascvd)": "atherosclerosis",
	"(cabg)": "atherosclerosis",
	"(cac)": "atherosclerosis",
	"(cad)": "atherosclerosis",
	"(cimt)": "atherosclerosis",
	"(hdl)": "atherosclerosis",
	"(imt)": "atherosclerosis",
	"(ldl)": "atherosclerosis",
	"(mi)": "atherosclerosis",
	"(nstemi)": "atherosclerosis",
	"(pci)": "atherosclerosis",
	"(vldl)": "atherosclerosis",
	"acute coronary": "atherosclerosis",
	"acute myocardial": "atherosclerosis",
	"angina": "atherosclerosis",
	"angioplasty": "atherosclerosis",
	"apolipoprotein": "atherosclerosis",
	"arterial disease": "atherosclerosis",
	"arterial stiffness": "atherosclerosis",
	"arteriosclerosis": "atherosclerosis",
	"artery bypass": "atherosclerosis",
	"artery disease": "atherosclerosis",
	"artery stenosis": "atherosclerosis",
	"athero": "atherosclerosis",
	"bypass graft": "atherosclerosis",
	"bypass": "atherosclerosis",
	"calcified plaque": "atherosclerosis",
	"calcium score": "atherosclerosis",
	"cardiac infarction": "atherosclerosis",
	"carotid plaquev": "atherosclerosis",
	"cholesterol": "atherosclerosis",
	"coronary artery bypass": "atherosclerosis",
	"coronary artery disease": "atherosclerosis",
	"coronary arter": "atherosclerosis",
	"coronary artery lesion": "atherosclerosis",
	"coronary artery stenosis": "atherosclerosis",
	"coronary calcification": "atherosclerosis",
	"coronary calcium": "atherosclerosis",
	"coronary disease": "atherosclerosis",
	"coronary heart disease": "atherosclerosis",
	"coronary stenosis": "atherosclerosis",
	"coronary thrombosis": "atherosclerosis",
	"coronary vessel": "atherosclerosis",
	"coronary vascular": "atherosclerosis",
	"coronary angio": "atherosclerosis",
	"elevation myocardial": "atherosclerosis",
	"eluting stents": "atherosclerosis",
	"endothelial dysfunction": "atherosclerosis",
	"ezetimibe": "atherosclerosis",
	"fractional flow reserve": "atherosclerosis",
	"fractional flow-reserve": "atherosclerosis",
	"heart attack": "atherosclerosis",
	"hypercholesterolemia": "atherosclerosis",
	"hyperlipidemia": "atherosclerosis",
	"hypertriglyceridemia": "atherosclerosis",
	"infarct": "atherosclerosis",
	"intimal medial thickness": "atherosclerosis",
	"lipoprotein": "atherosclerosis",
	"multivessel cad": "atherosclerosis",
	"myocardial i": "atherosclerosis",
	"normolipidemic": "atherosclerosis",
	"obstructive cad": "atherosclerosis",
	"percutaneous coronary": "atherosclerosis",
	"periprocedural": "atherosclerosis",
	"plaque": "atherosclerosis",
	"reperfusion": "atherosclerosis",
	"revasculariza": "atherosclerosis",
	"segment elevation": "atherosclerosis",
	"stent": "atherosclerosis",
	"thrombosis": "atherosclerosis",
	"triglyceride": "atherosclerosis",
	"kawasaki disease": "atherosclerosis",
	"coronary artery abnormalities": "atherosclerosis",
	"aorta": "atherosclerosis",
	"aortic": "atherosclerosis",
	"aorto": "atherosclerosis",
	"thoracic aneurysm": "atherosclerosis",
	"carotid arter": "atherosclerosis",
	"digital subtraction angiography": "atherosclerosis",
	"myocardial perfusion": "atherosclerosis",
	"vasculature": "atherosclerosis",
	" vascular": "atherosclerosis",

	" asd ": "congenitalheartdisease",
	" chd ": "congenitalheartdisease",
	" coarct": "congenitalheartdisease",
	" dorv ": "congenitalheartdisease",
	" hlhs ": "congenitalheartdisease",
	" l tga ": "congenitalheartdisease",
	" ltga ": "congenitalheartdisease",
	" paivs ": "congenitalheartdisease",
	" tapvr ": "congenitalheartdisease",
	" tof ": "congenitalheartdisease",
	"(asd)": "congenitalheartdisease",
	"(chd)": "congenitalheartdisease",
	"(dorv)": "congenitalheartdisease",
	"(hlhs)": "congenitalheartdisease",
	"(l tga)": "congenitalheartdisease",
	"(paivs)": "congenitalheartdisease",
	"(tapvr)": "congenitalheartdisease",
	"(tof)": "congenitalheartdisease",
	"a vsd ": "congenitalheartdisease",
	"aortic coarctation": "congenitalheartdisease",
	"aortic rings": "congenitalheartdisease",
	"arteriosus": "congenitalheartdisease",
	"atresia": "congenitalheartdisease",
	"congenital heart": "congenitalheartdisease",
	"d tga ": "congenitalheartdisease",
	"d transposition of great arteries": "congenitalheartdisease",
	"double outlet right ventricle": "congenitalheartdisease",
	"dtga ": "congenitalheartdisease",
	"ebstein": "congenitalheartdisease",
	"hypoplastic left heart syndrome": "congenitalheartdisease",
	"isolated aortic stenosis": "congenitalheartdisease",
	"isomerism": "congenitalheartdisease",
	"l transposition": "congenitalheartdisease",
	"pulmonary atresia": "congenitalheartdisease",
	"right atrial isomerism": "congenitalheartdisease",
	"septal defect": "congenitalheartdisease",
	"single ventricle": "congenitalheartdisease",
	"total anomalous pulmonary venous return": "congenitalheartdisease",
	"truncus": "congenitalheartdisease",
	"paediatric cardiac surgery": "congenitalheartdisease",
	"pediatric cardiac surgery": "congenitalheartdisease",

	" ahf ": "heartfailure",
	" chagas ": "heartfailure",
	" chf ": "heartfailure",
	" crt ": "heartfailure",
	" hf ": "heartfailure",
	" hfmref ": "heartfailure",
	" hfpef ": "heartfailure",
	" hfref ": "heartfailure",
	" lvmi ": "heartfailure",
	"(ahf)": "heartfailure",
	"(chagas)": "heartfailure",
	"(chf)": "heartfailure",
	"(crt)": "heartfailure",
	"(hf)": "heartfailure",
	"(hfmref)": "heartfailure",
	"(hfpef)": "heartfailure",
	"(hfref)": "heartfailure",
	"(lvmi)": "heartfailure",
	"atrial fibrosis": "heartfailure",
	"cardiac hypertrophy": "heartfailure",
	"cardiac output": "heartfailure",
	"cardiac remodeling": "heartfailure",
	"cardiac resynchronization": "heartfailure",
	"cardiac transplant": "heartfailure",
	"heart lung transplant": "heartfailure",
	"cardiomyopathy": "heartfailure",
	"congestive": "heartfailure",
	"contractile function": "heartfailure",
	"diastolic dysfunction": "heartfailure",
	"dilated cardiomyopathy": "heartfailure",
	"edema": "heartfailure",
	"failing heart": "heartfailure",
	"heart failure": "heartfailure",
	"heart transplant": "heartfailure",
	"hypertrophy": "heartfailure",
	"lv remodelling": "heartfailure",
	"reverse remodeling": "heartfailure",
	"ventricular ejection": "heartfailure",
	"ventricular failure": "heartfailure",
	"ventricular systolic": "heartfailure",
	"exstracorporeal membrane oxygenation": "heartfailure",
	" ecmo": "heartfailure",
	"mechanical circulatory support": "heartfailure",
	"cardiac arrest": "heartfailure",
	"cardiac resuscitation": "heartfailure",
	"cardiopulmonary resuscitation": "heartfailure",
	"rotary blood pumps": "heartfailure",
	"myocardial wall motion": "heartfailure",

	"arterial pressure": "hypertension",
	"blood pressure": "hypertension",
	"hypertensi": "hypertension",
	"mean arterial pressure": "hypertension",

	"cardioembolic": "stroke",
	"cerebrovascular": "stroke",
	"stroke": "stroke",

	"heart sound recording": "valvedisease",
	" avi ": "valvedisease",
	" avr ": "valvedisease",
	" bav ": "valvedisease",
	" ms ": "valvedisease",
	" tavr ": "valvedisease",
	" tvr ": "valvedisease",
	"(avi)": "valvedisease",
	"(avr)": "valvedisease",
	"(bav)": "valvedisease",
	"(ms)": "valvedisease",
	"(tavr)": "valvedisease",
	"(tvr)": "valvedisease",
	"aortic stenosis": "valvedisease",
	"aortic valve replacement": "valvedisease",
	"mitral insufficiency": "valvedisease",
	"mitral regurgitation": "valvedisease",
	"mitral stenosis": "valvedisease",
	"mitral valve prolapse": "valvedisease",
	"prosthetic valve": "valvedisease",
	"pulmonary valve": "valvedisease",
	"pulmonic regurgitation": "valvedisease",
	"pulmonic stenosis": "valvedisease",
	"pulmonic valve": "valvedisease",
	"transcatheter valve": "valvedisease",
	"tricuspid regurgitation": "valvedisease",
	"tricuspid stenosis": "valvedisease",
	"tricuspid valve": "valvedisease",
	"valve replacement": "valvedisease",
	"valve": "valvedisease",
	"valvular": "valvedisease",
}


iscardiac_dict = {
	"cardiac": "cardiac",
	"vascular": "cardiac", # below, specified between other vascular studies, e.g. of retinal vasculature
	"cardio": "cardiac",
	"heart": "cardiac", # heart rate is being used a lot to model stress, emotion, and other non-cardiac outputs
	" af ": "cardiac",
	" afib ": "cardiac", 
	" lqt ": "cardiac",
	" pvc ": "cardiac",
	" tachy": "cardiac",
	"(af)": "cardiac", 
	"(afib)": "cardiac", 
	"(fib)": "cardiac",
	"(lqt)": "cardiac",
	"(pvc)": "cardiac",
	"arrhythm": "cardiac",
	"atrial flutter": "cardiac",
	"atrial tachycardia": "cardiac",
	"av block": "cardiac",
	"av delay": "cardiac",
	"bigeminy": "cardiac",
	"brady": "cardiac", 
	"bundle branch block": "cardiac",
	"cardiac arrhythmia": "cardiac",
	"cardiac death": "cardiac",
	"cardiac rhythm": "cardiac", 
	"chronotropic": "cardiac",
	"fibrillation": "cardiac",
	"flutter": "cardiac",
	"irregular heartbeat": "cardiac",
	"murmur": "cardiac",
	"pacemaker": "cardiac",
	"palpitations": "cardiac",
	"premature ventricular beat": "cardiac",
	"premature ventricular contraction": "cardiac",
	"qt syndrome": "cardiac",
	"sinoatrial": "cardiac",
	"sinus arrest": "cardiac",
	"sinus rhythm": "cardiac",
	"tachyarrhythmia": "cardiac",
	"tachycardia": "cardiac",
	"tachypacing": "cardiac",
	"thoracic aneurysm": "cardiac",
	"electrophysiolog": "cardiac",
	"carotid arter": "cardiac",
	"ablation of the pulmonary veins": "cardiac",
	"t wave alternans": "cardiac",
	"myocardial perfusion": "cardiac",
	"spect ": "cardiac",
	"myocard": "cardiac",
	"atrial and ventricular": "cardiac",
	"left ventric": "cardiac",
	" acs ": "cardiac",
	" ascvd ": "cardiac",
	" cabg ": "cardiac",
	" cac ": "cardiac",
	" cad ": "cardiac",
	" cimt ": "cardiac",
	" hdl ": "cardiac",
	" imt ": "cardiac",
	" ischaemi": "cardiac",
	" ischemi": "cardiac",
	" ldl ": "cardiac",
	" mi ": "cardiac",
	" nstemi ": "cardiac",
	" pci ": "cardiac",
	" vldl ": "cardiac",
	"(acs)": "cardiac",
	"(ascvd)": "cardiac",
	"(cabg)": "cardiac",
	"(cac)": "cardiac",
	"(cad)": "cardiac",
	"(cimt)": "cardiac",
	"(hdl)": "cardiac",
	"(imt)": "cardiac",
	"(ldl)": "cardiac",
	"(mi)": "cardiac",
	"(nstemi)": "cardiac",
	"(pci)": "cardiac",
	"(vldl)": "cardiac",
	"acute coronary": "cardiac",
	"acute myocardial": "cardiac",
	"angina": "cardiac",
	"angioplasty": "cardiac",
	"apolipoprotein": "cardiac",
	"arterial disease": "cardiac",
	"arterial stiffness": "cardiac",
	"arteriosclerosis": "cardiac",
	"artery bypass": "cardiac",
	"artery disease": "cardiac",
	"artery stenosis": "cardiac",
	"athero": "cardiac",
	"bypass graft": "cardiac",
	"bypass": "cardiac",
	"calcified plaque": "cardiac",
	"calcium score": "cardiac",
	"cardiac infarction": "cardiac",
	"carotid plaquev": "cardiac",
	"cholesterol": "cardiac",
	"coronary artery bypass": "cardiac",
	"coronary artery disease": "cardiac",
	"coronary artery lesion": "cardiac",
	"coronary artery stenosis": "cardiac",
	"coronary calcification": "cardiac",
	"coronary calcium": "cardiac",
	"coronary disease": "cardiac",
	"coronary heart disease": "cardiac",
	"coronary stenosis": "cardiac",
	"coronary thrombosis": "cardiac",
	"elevation myocardial": "cardiac",
	"eluting stents": "cardiac",
	"endothelial dysfunction": "cardiac",
	"ezetimibe": "cardiac",
	"fractional flow reserve": "cardiac",
	"fractional flow-reserve": "cardiac",
	"heart attack": "cardiac",
	"hypercholesterolemia": "cardiac",
	"hyperlipidemia": "cardiac",
	"hypertriglyceridemia": "cardiac",
	"infarct": "cardiac",
	"intimal medial thickness": "cardiac",
	"lipoprotein": "cardiac",
	"multivessel cad": "cardiac",
	"myocardial i": "cardiac",
	"normolipidemic": "cardiac",
	"obstructive cad": "cardiac",
	"percutaneous coronary": "cardiac",
	"periprocedural": "cardiac",
	"plaque": "cardiac",
	"reperfusion": "cardiac",
	"revasculariza": "cardiac",
	"segment elevation": "cardiac",
	"stent": "cardiac",
	"thrombosis": "cardiac",
	"triglyceride": "cardiac",
	"rotary blood pumps": "cardiac",
	"digital subtraction angiography": "cardiac",
	"ep catheters": "cardiac",
	"epicardial mapping": "cardiac",
	" asd ": "cardiac",
	" chd ": "cardiac",
	" coarct": "cardiac",
	" dorv ": "cardiac",
	" hlhs ": "cardiac",
	" l tga ": "cardiac",
	" ltga ": "cardiac",
	" paivs ": "cardiac",
	" tapvr ": "cardiac",
	" tof ": "cardiac",
	"(asd)": "cardiac",
	"(chd)": "cardiac",
	"(dorv)": "cardiac",
	"(hlhs)": "cardiac",
	"(l tga)": "cardiac",
	"(paivs)": "cardiac",
	"(tapvr)": "cardiac",
	"(tof)": "cardiac",
	"a vsd ": "cardiac",
	"aortic coarctation": "cardiac",
	"aortic rings": "cardiac",
	"arteriosus": "cardiac",
	"atresia": "cardiac",
	"congenital heart": "cardiac",
	"d tga ": "cardiac",
	"d transposition of great arteries": "cardiac",
	"double outlet right ventricle": "cardiac",
	"dtga ": "cardiac",
	"ebstein": "cardiac",
	"hypoplastic left heart syndrome": "cardiac",
	"isolated aortic stenosis": "cardiac",
	"isomerism": "cardiac",
	"l transposition": "cardiac",
	"pulmonary atresia": "cardiac",
	"right atrial isomerism": "cardiac",
	"septal defect": "cardiac",
	"single ventricle": "cardiac",
	"total anomalous pulmonary venous return": "cardiac",
	"truncus": "cardiac",
	" ahf ": "cardiac",
	" chagas ": "cardiac",
	" chf ": "cardiac",
	" crt ": "cardiac",
	" hf ": "cardiac",
	" hfmref ": "cardiac",
	" hfpef ": "cardiac",
	" hfref ": "cardiac",
	" lvmi ": "cardiac",
	"(ahf)": "cardiac",
	"(chagas)": "cardiac",
	"(chf)": "cardiac",
	"(crt)": "cardiac",
	"(hf)": "cardiac",
	"(hfmref)": "cardiac",
	"(hfpef)": "cardiac",
	"(hfref)": "cardiac",
	"(lvmi)": "cardiac",
	"atrial fibrosis": "cardiac",
	"cardiac hypertrophy": "cardiac",
	"cardiac output": "cardiac",
	"cardiac remodeling": "cardiac",
	"cardiac resynchronization": "cardiac",
	"cardiac transplant": "cardiac",
	"cardiomyopathy": "cardiac",
	"congestive": "cardiac",
	"coronary": "cardiac",
	"contractile function": "cardiac",
	"diastolic dysfunction": "cardiac",
	"dilated cardiomyopathy": "cardiac",
	"edema": "cardiac",
	"failing heart": "cardiac",
	"heart failure": "cardiac",
	"heart transplant": "cardiac",
	"hypertrophy": "cardiac",
	"lv remodelling": "cardiac",
	"reverse remodeling": "cardiac",
	"ventricular ejection": "cardiac",
	"ventricular failure": "cardiac",
	"ventricular systolic": "cardiac",
	"aorta": "cardiac",
	"aortic": "cardiac",
	"aorto": "cardiac",
	"arterial pressure": "cardiac",
	"blood pressure": "cardiac",
	"hypertensi": "cardiac",
	"mean arterial pressure": "cardiac",
	"cardioembolic": "cardiac",
	"cerebrovascular": "cardiac",
	"stroke": "cardiac",
	" avi ": "cardiac",
	" avr ": "cardiac",
	" bav ": "cardiac",
	" ms ": "cardiac",
	" tavr ": "cardiac",
	" tvr ": "cardiac",
	"(avi)": "cardiac",
	"(avr)": "cardiac",
	"(bav)": "cardiac",
	"(ms)": "cardiac",
	"(tavr)": "cardiac",
	"(tvr)": "cardiac",
	"aortic stenosis": "cardiac",
	"aortic valve replacement": "cardiac",
	"mitral insufficiency": "cardiac",
	"mitral regurgitation": "cardiac",
	"mitral stenosis": "cardiac",
	"mitral valve prolapse": "cardiac",
	"prosthetic valve": "cardiac",
	"pulmonary valve": "cardiac",
	"pulmonic regurgitation": "cardiac",
	"pulmonic stenosis": "cardiac",
	"pulmonic valve": "cardiac",
	"transcatheter valve": "cardiac",
	"tricuspid regurgitation": "cardiac",
	"tricuspid stenosis": "cardiac",
	"tricuspid valve": "cardiac",
	"valve replacement": "cardiac",
	"valve": "cardiac",
	"valvular": "cardiac",
}



data_modality_dict = {
	" ccta": "ct",
	"ccta ": "ct",
	" ct ": "ct",
	" cta ": "ct",
	" ctas ": "ct",
	" ctca ": "ct",
	" ctpa ": "ct",
 	"(ccta)": "ct",
	"(ct)": "ct",
	"(cta)": "ct",
	"(ctas)": "ct",
	"(ctca)": "ct",
	"(ctpa)": "ct",
	"agatston calcium score": "ct",
	"computed tomograph": "ct",
	"contrast enhanced-imaging": "ct",
	"contrast imaging": "ct",
	"coronary computed": "ct",
	"cardiac ct": "ct",
	"ct angiogra": "ct",
	"cardiac computed tomogra": "ct",
	"coronary ct": "ct",
	"invasive coronary angiography": "ct",
	"perfusion single photon": "ct",
	"tomographic angiography": "ct",

	" ecg ": "ekg",
	" ecgnet ": "ekg",
	" ekg ": "ekg",
	" fecg ": "ekg",
	"(ecg)": "ekg",
	"(ecgnet)": "ekg",
	"(ekg)": "ekg",
	"(fecg)": "ekg",
	"cardiac rhythm monitoring": "ekg",
	"electrocardiogram": "ekg",
	"electrocardiograph": "ekg",
	"electrocardiology": "ekg",
	"electroencephalogram": "ekg",
	"electroencephalograph": "ekg",
	"electrogram": "ekg",
	"electrohysterography": "ekg",
	"electromyogram": "ekg",
	"holter": "ekg",
	"intracardiac electrogram": "ekg",

	" ehr ": "ehr",
 	" emr ": "ehr",
	"(ehr)": "ehr",
 	"(emr)": "ehr",
	"electronic health record": "ehr",
	"electronic medical record": "ehr",
	"health record": "ehr",
	"hospital information system": "ehr",
	"hospital record": "ehr",
	"icu database": "ehr",
	"image data": "ehr",
	"questionnaire": "ehr",
	"clinical notes": "ehr",
	"clinical text": "ehr",
	"clinical variables": "ehr",

	" gene ": "omics",
	" genes ": "omics",
	" snp ": "omics",
	"(snp)": "omics",
	"genetic": "omics",
	"genome": "omics",
	"genomes ": "omics",
	"genomic": "omics",
	"genotyp": "omics",
	"gwas": "omics",
	"omics": "omics",
	"oncogene ": "omics",
	"proteom": "omics",
	"transcriptom": "omics",
	"transgene ": "omics",

	"capnography": "labdata",
	"complete blood count": "labdata",
	"core laboratories": "labdata",
	"core laboratory": "labdata",
	"endomyocardial biopsy": "labdata",
	"laboratory data": "labdata",
	"laboratory finding": "labdata",
	"laboratory test": "labdata",

	" cmr ": "mri",
	"cardiac mri": "mri",
	"heart mri": "mri",
	" dti ": "mri",
	" fmr ": "mri",
	" mri ": "mri",
	" qmri ": "mri",
	" smri ": "mri",
	"(cmr)": "mri",
	"(dti)": "mri",
	"(fmr)": "mri",
	"(mri)": "mri",
	"(qmri)": "mri",
	"(smri)": "mri",
	"cardiovascular magnetic": "mri",
	"cardiovascular mr": "mri",
	"cine cmr": "mri",
	"cine images": "mri",
	"cine magnetic": "mri",
	"cine mr": "mri",
	"cine ssfp": "mri",
	"contrast mri": "mri",
	"dynamic magnetic": "mri",
	"dynamic mr": "mri",
	"enhanced magnetic": "mri",
	"enhanced mri": "mri",
	"enhancement magnetic": "mri",
	"functional magnetic": "mri",
	"lge images": "mri",
	"lge imaging": "mri",
	"lge mri": "mri",
	"magnetic resonance angiography": "mri",
	"magnetic resonance imaging": "mri",
	"magnetic resonance spectroscopy": "mri",
	"magnetic resonance": "mri",
	"mr based": "mri",
	"mr data": "mri",
	"mr examinations": "mri",
	"mr image": "mri",
	"mr imaging": "mri",
	"mr reconstruction": "mri",
	"mr scan": "mri",
	"pc mri": "mri",
	"pet mri": "mri",
	"quantitative mri": "mri",
	"resonance angiography": "mri",
	"resonance images": "mri",
	"resonance imaging": "mri",
	"resonance spectroscopy": "mri",
	"tagged mri": "mri",

	" pet ": "nuclear",
	"(pet)": "nuclear",
	"absorptiomet": "nuclear",
	"beam scanning": "nuclear",
	"nuclear card": "nuclear",
	"nuclear imaging": "nuclear",
	"nuclear magnetic": "nuclear",
	"pencil beam scanning": "nuclear",
	"perfusion imaging": "nuclear",
	"positron emission tomography": "nuclear",
	"proton nuclear": "nuclear",
	"scintigraph": "nuclear",
	"spect ": "nuclear",
	"single photon emission computed tomograph": "nuclear",
	
	" ivoct ": "other",
	"(ivoct)": "other",
	"acceleromet": "other",
	"actigraph": "other",
	"activity tracker": "other",
	"auscultation": "other",
	"auscultatory": "other",
	"cardiac imaging": "other",
	"diagnostic imaging": "other",
	"digital imaging": "other",
	"dynamic image": "other",
	"electron paramagnetic": "other",
	"enhanced imaging": "other",
	"functional imaging": "other",
	"guided image": "other",
	"imaging spectrometer": "other",
	"infrared": "other",
	"magnetocardiogram": "other",
	"magnetocardiography": "other",
	"mass spectrometry": "other",
	"microscopy": "other",
	"microspectroscopic": "other",
	"microspectroscopy": "other",
	"mobile application": "other",
	"optical imaging": "other",
	"quantitative imaging": "other",
	"sensor": "other",
	"thermal image": "other",
	"vascular imaging": "other",
	"vectorcardiogram": "other",

	" ivus ": "ultrasound",
	" oct ": "ultrasound",
	"(ivus)": "ultrasound",
	"(oct)": "ultrasound",
	"doppler flow": "ultrasound",
	"doppler gradient": "ultrasound",
	"doppler imaging": "ultrasound",
	"doppler index": "ultrasound",
	"doppler parameters": "ultrasound",
	"doppler tte": "ultrasound",
	"doppler signal": "ultrasound",
	"echo ": "ultrasound",
	"echocardiog": "ultrasound",
	"echographic": "ultrasound",
	"flow doppler": "ultrasound",
	"intravascular ultrasound": "ultrasound",
	"mode ultrasonography": "ultrasound",
	"oct image": "ultrasound",
	"oct imaging": "ultrasound",
	"optical coherence tomography": "ultrasound",
	"shear wave elastography": "ultrasound",
	"sonography": "ultrasound",
	"ultracardiography": "ultrasound",
	"ultrasonographic": "ultrasound",
	"ultrasonographs": "ultrasound",
	"ultrasonography": "ultrasound",
	"ultrasound": "ultrasound",
	"us image": "ultrasound",
	"us scans": "ultrasound",

	"aopwv": "waveform",
	"arterial wave": "waveform",
	"ballistocardiogra": "waveform",
	"blood pressure waveform": "waveform",
	"cardiotocograp": "waveform",
	"catheterization": "waveform",
	"digital pulse wave": "waveform",
	"electronic fetal monitoring": "waveform",	
	"erp waveforms": "waveform",
	"pressure waveforms": "waveform",
	"wave form": "waveform",
	"wave velocity": "waveform",
	"waveform": "waveform",
	"oscillometry": "waveform",
	"phonocardiogra": "waveform",
	"photoplethysmogra": "waveform",
	"plethysmogra": "waveform",
	"pulse wave": "waveform",
	"seismocardiogra": "waveform",
	"vectorcardiographic": "waveform",
	"heart sound recording": "waveform",
	"heart sound classification": "waveform",

	"chest radiograph": "xray",
	"chest xray": "xray",
	"coronarography": "xray",
	"coronary angiogra": "xray",
	"cxr": "xray",
	"digital radiography": "xray",
	"fluoroscopic image": "xray",
	"fluoroscopy": "xray",
	"lymphography": "xray",
	"radiogra": "xray",
	"radiograph": "xray",
	"radiological interventional": "xray",
	"x ray": "xray",
	"xray": "xray",
	"ventriculogram": "xray",
}


# several papers used heart rate (otherwise a cardiac indicator) to measure stress, sleep, and other non-cardiac diseases; similarly, studies of the retinal vasculature often included references to blood vessels
retina_dict = {
	"retinal": 'retina',
	"opthalm": 'retina',
	"retina ": 'retina',
	" emotion": 'emotion',
	"stress response": 'emotion',
	"psychophysiological": 'emotion',
	"psychological": 'emotion',
	"mental stress": 'emotion',
	"mental load": 'emotion',
	"mental workload": 'emotion',
	"mental health": 'emotion',
	"mood disorder": 'emotion',
	"cognitive": 'emotion',
	"dementia": 'emotion',
	"alzheimer": 'emotion',
	"depression and anxiety": 'emotion',
	"anxiety and depression": 'emotion',
	"anxiety": 'emotion',
	"suicide": 'emotion',
	"major depressi": 'emotion',
	"sleep": 'sleep',

}


isml_dict = {
	" ai ": 'isml',
	" ann ": 'isml',
	" aode ": 'isml',
	" c4.5 ": 'isml',
	" cart ": 'isml',
	" chaid ": 'isml',
	" cnn ": 'isml',
	" dae ": 'isml',
	" dbn ": 'isml',
	" dbscan ": 'isml',
	" dcn ": 'isml',
	" dcnn ": 'isml',
	" dff ": 'isml',
	" dnn ": 'isml',
	" drn ": 'isml',
	" gan ": 'isml',
	" gmm ": 'isml',
	" gpr ": 'isml',
	" gpu ": 'isml',
	" gru ": 'isml',
	" id3 ": 'isml',
	" knn ": 'isml',
	" lda ": 'isml',
	" lstm ": 'isml',
	" lvq ": 'isml',
	" mars ": 'isml',
	" nlp ": 'isml',
	" nns ": 'isml',
	" olsr ": 'isml',
	" omp ": 'isml',
	" qda ": 'isml',
	" rbf ": 'isml',
	" relu ": 'isml',
	" rnn ": 'isml',
	" sae ": 'isml',
	" svm ": 'isml',
	" vae ": 'isml',
	"(ai)": 'isml',
	"(ann)": 'isml',
	"(aode)": 'isml',
	"(c4.5)": 'isml',
	"(cart)": 'isml',
	"(chaid)": 'isml',
	"(cnn)": 'isml',
	"(dae)": 'isml',
	"(dbn)": 'isml',
	"(dbscan)": 'isml',
	"(dcn)": 'isml',
	"(dcnn)": 'isml',
	"(deep) learning": 'isml',
	"(dff)": 'isml',
	"(dnn)": 'isml',
	"(drn)": 'isml',
	"(gan)": 'isml',
	"(gmm)": 'isml',
	"(gpr)": 'isml',
	"(gpu)": 'isml',
	"(gru)": 'isml',
	"(id3)": 'isml',
	"(knn)": 'isml',
	"(lda)": 'isml',
	"(lstm)": 'isml',
	"(lvq)": 'isml',
	"(mars)": 'isml',
	"(nlp)": 'isml',
	"(nns)": 'isml',
	"(olsr)": 'isml',
	"(omp)": 'isml',
	"(qda)": 'isml',
	"(rbf)": 'isml',
	"(relu)": 'isml',
	"(rnn)": 'isml',
	"(sae)": 'isml',
	"(svm)": 'isml',
	"(vae)": 'isml',
	"adaboost": 'isml',
	"adversarial learning": 'isml',
	"affinity propagation": 'isml',
	"algorithm": 'isml',
	"artificial intelligence": 'isml',
	"artificial neural": 'isml',
	"artificially intelligent": 'isml',
	"auto encoder": 'isml',
	"autoencoder": 'isml',
	"averaged one dependence estimator": 'isml',
	"back propagation": 'isml',
	"backpropagation": 'isml',
	"bag of words": 'isml',
	"bagging": 'isml',
	"batch normalization": 'isml',
	"bayes": 'isml',
	"bigram": 'isml',
	"birch": 'isml',
	"boltzmann machine": 'isml',
	"boost": 'isml',
	"bootstrap": 'isml',
	"cascade of classifiers": 'isml',
	"centroid-based clustering": 'isml',
	"chi squared automatic interaction detector": 'isml',
	"classification network": "isml",
	"cluster": 'isml',
	"cnn": 'isml',
	"computer vision": 'isml',
	"conditional inference tree": 'isml',
	"confusion matrix": 'isml',
	"convolution": 'isml',
	"cox regression": 'isml',
	"cross-entropy": 'isml',
	"cross-validation": 'isml',
	"data augmentation": 'isml',
	"data engineering": 'isml',
	"data science": 'isml',
	"decision stump": 'isml',
	"decision tree": 'isml',
	"deep belief network": 'isml',
	"deep convolutional network": 'isml',
	"deep feed forward": 'isml',
	"deep learning": 'isml',
	"deep network": 'isml',
	"deep residual network": 'isml',
	"denoising ae": 'isml',
	"dimensionality reduction": 'isml',
	"discriminative model": 'isml',
	"dropout regularization": 'isml',
	"elastic net": 'isml',
	"embeddings": 'isml',
	"encoder": 'isml',
	"ensemble": 'isml',
	"feature engineering": 'isml',
	"feature extraction": 'isml',
	"feature hierarchy": 'isml',
	"feature reduction": 'isml',
	"feature selection": 'isml',
	"features extraction": 'isml',
	"federated learning": 'isml',
	"feed forward": 'isml',
	"few shot learning": 'isml',
	"fourier transform": 'isml',
	"fully connected layer": 'isml',
	"gated recurrent unit": 'isml',
	"gaussian": 'isml',
	"generative adversarial network": 'isml',
	"generative model": 'isml',
	"gradient tree boosting": 'isml',
	"graphics processing unit": 'isml',
	"ground truth": 'isml',
	"hidden layer": 'isml',
	"hierarchical clustering": 'isml',
	"hopfield network": 'isml',
	"iterative dichotomiser 3": 'isml',
	"iterative dichotomiser-3": 'isml',
	"k means": 'isml',
	"k medians": 'isml',
	"k nearest": 'isml',
	"k-means": 'isml',
	"k-medians": 'isml',
	"k-nearest": 'isml',
	"keras": 'isml',
	"kernel": 'isml',
	"kmeans": 'isml',
	"kmedians": 'isml',
	"language processing": 'isml',
	"lasso": 'isml',
	"learning algorithm": 'isml',
	"learning function": 'isml',
	"learning rate": 'isml',
	"learning vector quantization": 'isml',
	"least angle regression": 'isml',
	"least squares": 'isml',
	"linear discriminant": 'isml',
	"linear model": 'isml',
	"linear regression": 'isml',
	"logistic model": 'isml',
	"logistic regression": 'isml',
	"long short term memory": 'isml',
	"machine intelligence": 'isml',
	"machine learn": 'isml',
	"manifold learning": 'isml',
	"markov": 'isml',
	"mean shift": 'isml',
	"monte carlo": 'isml',
	"multi layer perception": 'isml',
	"multi task elastic net": 'isml',
	"multi-class logistic regression": 'isml',
	"multivariable logistic": 'isml',
	"multivariate logistic": 'isml',
	"n-gram": 'isml',
	"natural language": 'isml',
	"nearest neighbor": 'isml',
	"network": 'isml',
	"neural network": 'isml',
	"numpy": 'isml',
	"object tracking": 'isml',
	"one shot learning": 'isml',
	"one-hot encoding": 'isml',
	"one-hot vector": 'isml',
	"one-shot learning": 'isml',
	"ordinary least squares": 'isml',
	"orthogonal matching pursuit": 'isml',
	"overfitting": 'isml',
	"passive aggressive algorithms": 'isml',
	"perceptron": 'isml',
	"polynomial regression": 'isml',
	"principal component analysis": 'isml',
	"pytorch": 'isml',
	"quadratic discrimination": 'isml',
	"radial basis network": 'isml',
	"radiomic": 'isml',
	"random forest": 'isml',
	"rectified linear unit": 'isml',
	"recurrent neural network": 'isml',
	"recurrent neural-network": 'isml',
	"regression analyses": 'isml',
	"regression analysis": 'isml',
	"regression model": 'isml',
	"regression tree": 'isml',
	"regression": 'isml',
	"reinforcement learning": 'isml',
	"residual densenets": 'isml',
	"ridge classification": 'isml',
	"ridge regression": 'isml',
	"robustness regression": 'isml',
	"scikit-learn": 'isml',
	"segmentation algorithm": 'isml',
	"segmentation model": 'isml',
	"semantic segmentation": 'isml',
	"semi-supervised learning": 'isml',
	"softmax": 'isml',
	"sparse ae": 'isml',
	"squares regression": 'isml',
	"stacked generalization": 'isml',
	"statistical ml": 'isml',
	"stochastic gradient descent": 'isml',
	"style transfer": 'isml',
	"supervised": 'isml',
	"support vector": 'isml',
	"tensorflow": 'isml',
	"tf-idf": 'isml',
	"tfidf": 'isml',
	"transfer learning": 'isml',
	"tree based": 'isml',
	"tree-based": 'isml',
	"unsupervised": 'isml',
	"u net": 'isml',
	" unet": 'isml',
	"variational ae": 'isml',
	"vector machine": 'isml',
	"xgboost": 'isml',
}



iscomputational_dict = {
	"adaptive learning": 'computational',
	"algorithm": 'computational',
	"autocontouring": 'computational',
	"automated approach": 'computational',
	"automated heart": 'computational',
	"automated motion": 'computational',
	"automatic contour": 'computational',
	"automatic detection": 'computational',
	"automatic image": 'computational',
	"automatic interpretation": 'computational',
	"automatic method": 'computational',
	"automatic system": 'computational',
	"computer aided": 'computational',
	"computer assisted": 'computational',
	"computational": 'computational',
	"computable": 'computational',
	"computer model": 'computational',
	"continuous max flor (hmf) model": 'computational',
	"deep classification networks": 'computational',
	"data processing": 'computational',
	"fully automatic": 'computational',
	"image processing": 'computational',
	"independent component analysis": 'computational',
	"intelligent detector": 'computational',
	"intelligent diagnostic": 'computational',
	"intelligent information technology based system": 'computational',
	"intelligent system": 'computational',
	"learning health system": 'computational',
	"knowledge based approach": 'computational',
	"knowledge based system": 'computational',
	"knowledge graph": 'computational',
	"manifold": 'computational',
	"mel frequency cepstrum coefficient": 'computational',
	"motion compensated": 'computational',
	"morphological component analysis": 'computational',
	"nakagami distribution": 'computational',
	"pattern recognition": 'computational',
	"prediction model": 'computational',
	"recurrence quantification analysis": 'computational',
	"template matching": 'computational',
	"trigger learning": 'computational',
	"3d reconstruction": 'computational',
	"optical flow estimation": 'computational',
	"wavelet transform": 'computational',
	"wavelet thresholding": 'computational',
	"epicardial mapping system": 'computational',
	"eigenvalues": 'computational',
	"digital image processing": 'computational',
	"automated diagnosis": 'computational',
	"data processing": 'computational',
	"eulerian": 'computational',
	"lagrangian": 'computational',
	"3d deformation field": 'computational',
	"semi automated analysis": 'computational',
	"automated computation": 'computational',
	"active contour": 'computational',
	"mathematical model": 'computational',
	"dense correspondence field": 'computational',
	"statistical shape modeling": 'computational',
	"hotelling transform": 'computational',
	" ai ": 'computational',
	" ann ": 'computational',
	" aode ": 'computational',
	" c4.5 ": 'computational',
	" cart ": 'computational',
	" chaid ": 'computational',
	" cnn ": 'computational',
	" dae ": 'computational',
	" dbn ": 'computational',
	" dbscan ": 'computational',
	" dcn ": 'computational',
	" dcnn ": 'computational',
	" dff ": 'computational',
	" dnn ": 'computational',
	" drn ": 'computational',
	" gan ": 'computational',
	" gmm ": 'computational',
	" gpr ": 'computational',
	" gpu ": 'computational',
	" gru ": 'computational',
	" id3 ": 'computational',
	" knn ": 'computational',
	" lda ": 'computational',
	" lstm ": 'computational',
	" lvq ": 'computational',
	" mars ": 'computational',
	" nlp ": 'computational',
	" nns ": 'computational',
	" olsr ": 'computational',
	" omp ": 'computational',
	" qda ": 'computational',
	" rbf ": 'computational',
	" relu ": 'computational',
	" rnn ": 'computational',
	" sae ": 'computational',
	" svm ": 'computational',
	" vae ": 'computational',
	"(ai)": 'computational',
	"(ann)": 'computational',
	"(aode)": 'computational',
	"(c4.5)": 'computational',
	"(cart)": 'computational',
	"(chaid)": 'computational',
	"(cnn)": 'computational',
	"(dae)": 'computational',
	"(dbn)": 'computational',
	"(dbscan)": 'computational',
	"(dcn)": 'computational',
	"(dcnn)": 'computational',
	"(deep) learning": 'computational',
	"(dff)": 'computational',
	"(dnn)": 'computational',
	"(drn)": 'computational',
	"(gan)": 'computational',
	"(gmm)": 'computational',
	"(gpr)": 'computational',
	"(gpu)": 'computational',
	"(gru)": 'computational',
	"(id3)": 'computational',
	"(knn)": 'computational',
	"(lda)": 'computational',
	"(lstm)": 'computational',
	"(lvq)": 'computational',
	"(mars)": 'computational',
	"(nlp)": 'computational',
	"(nns)": 'computational',
	"(olsr)": 'computational',
	"(omp)": 'computational',
	"(qda)": 'computational',
	"(rbf)": 'computational',
	"(relu)": 'computational',
	"(rnn)": 'computational',
	"(sae)": 'computational',
	"(svm)": 'computational',
	"(vae)": 'computational',
	"adaboost": 'computational',
	"adversarial learning": 'computational',
	"affinity propagation": 'computational',
	"algorithm": 'computational',
	"artificial intelligence": 'computational',
	"artificial neural": 'computational',
	"artificially intelligent": 'computational',
	"auto encoder": 'computational',
	"autoencoder": 'computational',
	"averaged one dependence estimator": 'computational',
	"back propagation": 'computational',
	"backpropagation": 'computational',
	"bag of words": 'computational',
	"bagging": 'computational',
	"batch normalization": 'computational',
	"bayes": 'computational',
	"big data": 'computational',
	"bigram": 'computational',
	"birch": 'computational',
	"boltzmann machine": 'computational',
	"boost": 'computational',
	"bootstrap": 'computational',
	"cascade of classifiers": 'computational',
	"centroid-based clustering": 'computational',
	"chi squared automatic interaction detector": 'computational',
	"classification": 'computational',
	"cluster": 'computational',
	"cnn": 'computational',
	"computer vision": 'computational',
	"conditional inference trees": 'computational',
	"confusion matrix": 'computational',
	"convolution": 'computational',
	"cox regression": 'computational',
	"cross-entropy": 'computational',
	"cross-validation": 'computational',
	"data augmentation": 'computational',
	"data engineering": 'computational',
	"data science": 'computational',
	"decision stump": 'computational',
	"decision tree": 'computational',
	"deep belief network": 'computational',
	"deep convolutional network": 'computational',
	"deep feed forward": 'computational',
	"deep learning": 'computational',
	"deep network": 'computational',
	"deep residual network": 'computational',
	"denoising ae": 'computational',
	"dimensionality reduction": 'computational',
	"discriminative model": 'computational',
	"dropout regularization": 'computational',
	"elastic net": 'computational',
	"embeddings": 'computational',
	"encoder": 'computational',
	"ensemble": 'computational',
	"feature engineering": 'computational',
	"feature extraction": 'computational',
	"feature hierarchy": 'computational',
	"feature reduction": 'computational',
	"feature selection": 'computational',
	"features extraction": 'computational',
	"federated learning": 'computational',
	"feed forward": 'computational',
	"few shot learning": 'computational',
	"fourier transform": 'computational',
	"fully connected layer": 'computational',
	"gated recurrent unit": 'computational',
	"gaussian": 'computational',
	"generative adversarial network": 'computational',
	"generative model": 'computational',
	"gradient tree boosting": 'computational',
	"graphics processing unit": 'computational',
	"ground truth": 'computational',
	"hidden layer": 'computational',
	"hierarchical clustering": 'computational',
	"hopfield network": 'computational',
	"iterative dichotomiser 3": 'computational',
	"iterative dichotomiser-3": 'computational',
	"k means": 'computational',
	"k medians": 'computational',
	"k nearest": 'computational',
	"k-means": 'computational',
	"k-medians": 'computational',
	"k-nearest": 'computational',
	"keras": 'computational',
	"kernel": 'computational',
	"kmeans": 'computational',
	"kmedians": 'computational',
	"language processing": 'computational',
	"lasso": 'computational',
	"learning algorithm": 'computational',
	"learning function": 'computational',
	"learning rate": 'computational',
	"learning vector quantization": 'computational',
	"least angle regression": 'computational',
	"least squares": 'computational',
	"linear discriminant": 'computational',
	"linear model": 'computational',
	"linear regression": 'computational',
	"logistic model": 'computational',
	"logistic regression": 'computational',
	"long short term memory": 'computational',
	"machine intelligence": 'computational',
	"machine learn": 'computational',
	"manifold learning": 'computational',
	"markov": 'computational',
	"mean shift": 'computational',
	"monte carlo": 'computational',
	"multi layer perception": 'computational',
	"multi task elastic net": 'computational',
	"multi-class logistic regression": 'computational',
	"multivariable logistic": 'computational',
	"multivariate logistic": 'computational',
	"n-gram": 'computational',
	"natural language": 'computational',
	"nearest neighbor": 'computational',
	"network": 'computational',
	"neural network": 'computational',
	"numpy": 'computational',
	"object tracking": 'computational',
	"one shot learning": 'computational',
	"one-hot encoding": 'computational',
	"one-hot vector": 'computational',
	"one-shot learning": 'computational',
	"ordinary least squares": 'computational',
	"orthogonal matching pursuit": 'computational',
	"overfitting": 'computational',
	"passive aggressive algorithms": 'computational',
	"perceptron": 'computational',
	"polynomial regression": 'computational',
	"principal component analysis": 'computational',
	"pytorch": 'computational',
	"quadratic discrimination": 'computational',
	"radial basis network": 'computational',
	"radiomic": 'computational',
	"random forest": 'computational',
	"rectified linear unit": 'computational',
	"recurrent neural network": 'computational',
	"recurrent neural-network": 'computational',
	"regression analyses": 'computational',
	"regression analysis": 'computational',
	"regression model": 'computational',
	"regression tree": 'computational',
	"regression": 'computational',
	"reinforcement learning": 'computational',
	"residual densenets": 'computational',
	"ridge classification": 'computational',
	"ridge regression": 'computational',
	"robustness regression": 'computational',
	"scikit-learn": 'computational',
	"segmentation algorithm": 'computational',
	"segmentation model": 'computational',
	"semantic segmentation": 'computational',
	"semi-supervised learning": 'computational',
	"softmax": 'computational',
	"sparse ae": 'computational',
	"squares regression": 'computational',
	"stacked generalization": 'computational',
	"statistical ml": 'computational',
	"stochastic gradient descent": 'computational',
	"style transfer": 'computational',
	"supervised": 'computational',
	"support vector": 'computational',
	"tensorflow": 'computational',
	"tf-idf": 'computational',
	"tfidf": 'computational',
	"transfer learning": 'computational',
	"tree based": 'computational',
	"tree-based": 'computational',
	"unsupervised": 'computational',
	"variational ae": 'computational',
	"vector machine": 'computational',
	"xgboost": 'computational',

}



nonoriginalresearch_type_dict = {
    "Comment": 'nonoriginal',
    "Editorial": 'nonoriginal',
    "emptytag": 'nonoriginal',
    "Erratum": 'nonoriginal',
    "Letter": 'nonoriginal',
    "Review": 'nonoriginal',
}


nonoriginalresearch_title_dict = {
    "?": 'nonoriginal',
    "Comment": 'nonoriginal',
  	"comment": 'nonoriginal',
    "Erratum": 'nonoriginal',
    "erratum": 'nonoriginal',
    "Review": 'nonoriginal',
    "review": 'nonoriginal',
   }



nonoriginalresearch_abstract_dict = {
    "amendment": 'nonoriginal',
    "emptytag": 'nonoriginal',
    "in this review": 'nonoriginal',
    "we review": 'nonoriginal', # new
    "we outline": 'nonoriginal', # new
    "review paper": 'nonoriginal', # new
}


def replacer(i, replace_dict):
	i = str(i)
	result = []
	for k, v in replace_dict.items():
		if k in i: 
			result.append(v)
	if result == []: result = [""]
	result=list(set(result))
	return "_".join(result)


# Main
#  the the commands below were run to generate dictionary-based labels. Then, some manual consolidation and review of the automatically generated label columns was performed, e.g. to consolidate the non-original research columns into a single column, and to filter 'Is Cardiac' by e.g. the 'Retina' column.

df = pd.read_csv(sys.argv[1])

df = df.drop_duplicates(['Title','EntrezUID','Identifiers'])

df = df.fillna('emptytag')

df['Study Year'] = df['ShortDetails'].str.rsplit(' ',1).str[1]

df['Journal Name'] = df['ShortDetails'].str.rsplit('.',1).str[0]

df['Search'] = df['Title'].map(str) + df['Abstract']
df['Search'] = df['Search'].replace('\n',' ', regex=True)
df['Search'] = df['Search'].replace('-',' ', regex=True)
df['Search'] = df['Search'].replace('¬†',' ', regex=True)
df['Search'] = df['Search'].replace('¬',' ', regex=True)
df['Search'] = df['Search'].replace('†',' ', regex=True)
df['Search'] = df['Search'].str.replace('\ {2,}', ' ', regex=True)
df['Search'] = df['Search'].str.replace('artefact', 'artifact', regex=True)
df['Search'] = df['Search'].str.lower()

df['Is ML'] = [replacer(i, isml_dict) for i in df['Search']]

df['Is Computational'] = [replacer(i, iscomputational_dict) for i in df['Search']]
df['Is Cardiac'] = [replacer(i, iscardiac_dict) for i in df['Search']]

df['Is NOT Original Research type'] = [replacer(i, nonoriginalresearch_type_dict) for i in df['Type']]
df['Is NOT Original Research title'] = [replacer(i, nonoriginalresearch_title_dict) for i in df['Title']]
df['Is NOT Original Research abstract'] = [replacer(i, nonoriginalresearch_abstract_dict) for i in df['Abstract']]

digitsregex = re.compile(r'(\d{1,}\.{0,1}\d{0,}\%{0,1})')
df.loc[~df['Abstract'].str.contains(digitsregex), 'Is NOT Original Research digits'] = 'nonumbers'

df['Is NOT Original Research'] = df['Is NOT Original Research type'] + df['Is NOT Original Research title'] + df['Is NOT Original Research abstract'] + df['Is NOT Original Research manual']
df['Is NOT Original Research'] = df['Is NOT Original Research'].replace('nonoriginalnonoriginalnonoriginal','nonoriginal', regex=True)
df['Is NOT Original Research'] = df['Is NOT Original Research'].replace('nonoriginalnonoriginal','nonoriginal', regex=True)


df['ML_problem'] = [replacer(i, ml_problem_dict) for i in df['Search']]

df['ML_method'] = [replacer(i, ml_method_dict) for i in df['Search']]

df['Disease'] = [replacer(i, disease_dict) for i in df['Search']]

df['Data_modality'] = [replacer(i, data_modality_dict) for i in df['Search']]

df['Retina'] = [replacer(i, retina_dict) for i in df['Search']]

df = df.sort_values(['Study Year'], ascending=[0])

df.to_csv(sys.argv[2], index=None, sep=',', mode='a')
